$(document).ready(function(){let e=document.querySelector(".popup"),t=!1,a;a=new LocomotiveScroll({el:document.querySelector("[data-scroll-container]"),smooth:!0}),new ResizeObserver(()=>a.update()).observe(document.querySelector("[data-scroll-container]")),a.on("scroll",a=>{let c=document.getElementById("review"),i=document.getElementById("premium"),n=c.offsetTop,o=i.offsetTop;a.scroll.y>=n&&a.scroll.y<o&&!t?(e.classList.add("show"),t=!0):(a.scroll.y<n||a.scroll.y>=o)&&t&&(e.classList.remove("show"),t=!1)}),$('a[href^="#"], a[href^="/#"]').on("click",function(e){e.preventDefault(),-1!==($href=$(this).attr("href")).indexOf("/")&&($href=$href.replace("/","")),a&&a.scrollTo($href)}),$countCheck=!1,a&&a.on("call",(e,t,a)=>{$countCheck||($countCheck=!0,"xCounter"===e&&"enter"===t&&$(".count").each(function(){$(this).prop("Counter",0).animate({Counter:$(this).text()},{duration:7e3,delay:1,easing:"swing",step:function(e){$(this).text(Math.ceil(e))}})}))}),$(".review__slider").slick({slidesToShow:1,slidesToScroll:1,prevArrow:$(".review__prev"),nextArrow:$(".review__next"),centerMode:!0,variableWidth:!0,focusOnSelect:!0}),$(".header__lang").click(function(){$(".header__lang").removeClass("active"),$(this).addClass("active")}),$(".easy__video").hover(function(){$(".easy__note-block").css("opacity","0")},function(){$(".easy__note-block").css("opacity","1")}),$(".price__tab").click(function(){$(".price__tab").removeClass("price__tab--active"),$(this).addClass("price__tab--active"),$(".price__content").hide(),$(".price__content").eq($(this).index()).show()}),$("#prTabTwo").click(function(){$(".price__nav").addClass("translate")}),$("#prTabOne").click(function(){$(".price__nav").removeClass("translate")}),$(".faq__container input").prop("checked",!1),$(".faq__accordion-header").click(function(){var e=$(this).parent(),t=$(this).next(".faq__accordion-content"),a=$(".faq__accordion-content"),c=$(".faq__accordion-item"),i=$(".faq__container input");a.not(t).slideUp(),t.slideToggle(),c.not(e).removeClass("active"),e.toggleClass("active");var n=e.find(".faq__container input");e.hasClass("active")?n.prop("checked",!0):n.prop("checked",!1),i.not(n).prop("checked",!1)}),$(document).click(function(e){$(e.target).closest(".faq__accordion-item").length||($(".faq__accordion-content").slideUp(),$(".faq__accordion-item").removeClass("active"),$(".faq__container input").prop("checked",!1))})}),$(document).ready(function(){let e=$(".tabs__container"),t=e.find(".tabs__head-item"),a=e.find(".tabs__content-item");e.find(".tabs__shelf img"),e.on("click",".tabs__head-item",function(){let e=$(this),c=e.attr("data-tab"),i=$("#"+c);if(i.length>0){var n,o;n=e,t.removeClass("active"),n.addClass("active"),o=i,a.removeClass("active").hide(),o.fadeIn(300,function(){$(this).addClass("active")})}})});

$(document).ready(function(){
  $('.problem__slider').slick({
    slidesToShow: 1,
    slidesToScroll: 1,
    prevArrow: $('.problem__prev'),
    nextArrow: $('.problem__next'),
    centerMode: true,
    focusOnSelect: true,
    adaptiveHeight: true,
  });
  $('#fForm').on('submit', function(e) {
    e.preventDefault();  // Prevent the form from actually submitting
  
    // Show the popup with a fade in animation
    $('#fPopup').fadeIn(500, function() {
      // After 3 seconds, hide the popup with a fade out animation
      setTimeout(function() {
        $('#fPopup').fadeOut(500, function() {
          // Clear the form
          $('#fForm')[0].reset();
          $('#bookForEmail').css('color', '#f4f4f4');
          $('.booking__submit').blur();
        });
      }, 1000);
    });
  });
  $('#tForm').on('submit', function(e) {
    e.preventDefault();  // Prevent the form from actually submitting
  
    // Show the popup with a fade in animation
    $('#tPopup').fadeIn(500, function() {
      // After 3 seconds, hide the popup with a fade out animation
      setTimeout(function() {
        $('#tPopup').fadeOut(500, function() {
          // Clear the form
          $('#tForm')[0].reset();
          $('#bookForEmailTwo').css('color', '#f4f4f4');
          $('.booking__submit').blur();
        });
      }, 1000);
    });
  });
  // $('#fForm').on('submit', function(e) {
  //   e.preventDefault();  // Prevent the form from actually submitting
  
  //   // Handle your form submission logic here
  //   $.ajax({
  //     url: 'submit-form.php',
  //     type: 'post',
  //     data: $(this).serialize(),
  //     success: function() {
  //       // Show the popup with a fade in animation
  //       $('#fPopup').fadeIn(500, function() {
  //         // After 3 seconds, hide the popup with a fade out animation
  //         setTimeout(function() {
  //           $('#fPopup').fadeOut(500, function() {
  //             // Clear the form
  //             $('#fForm')[0].reset();
  //             $('#bookForEmail').css('color', '#f4f4f4');
  //           });
  //         }, 3000);
  //       });
  //     }
  //   });
  // });
    $('.popup__cross').click(function(){
        $('.popup').css('opacity', '0');
        $('.popup').css( 'pointer-events', 'none');
    });
    $(".easy__play").click(function () {
      $(this).hide();
      $(this).siblings("video")[0].play();
    });
    $("video").on("pause", function () {
      $(this).siblings(".easy__play").show();
    });
    // Hide the play button when the video starts playing
    $("video").on("play", function () {
      $(this).siblings(".easy__play").hide();
  });
    document.getElementById("checkbox").addEventListener("change", function() {
      var element = document.getElementById("mobMenu") // Change this line to select the desired element
      if (this.checked) {
        element.classList.add("on");
        document.body.classList.add('stopper');
      } else {
        element.classList.remove("on");
        document.body.classList.remove('stopper');
      }
    });
    $('.header__link').click(function(){
      $("body").removeClass('stopper');
      $("#checkbox").click(); 
    })
    const validateEmail = (email) => {
        return email.match(
          /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
        );
      };
      const validate = () => {
        const $result = $('#bookForEmail');
        const email = $('#bookEmail').val();
        // $result.text('');
      
        if(validateEmail(email)){
        //   $result.text(email);
          $result.css('color', 'green');
        } else{
        //   $result.text(email);
          $result.css('color', 'red');
        }
        return false;
      }
      $('#bookEmail').on('input', validate);

      const validateEmailTwo = ($emailTwo) => {
        return $emailTwo.match(
          /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
        );
      };
      const validateTwo = () => {
        const $resultTwo = $('#bookForEmailTwo');
        const $emailTwo = $('#bookEmailTwo').val();
        // $result.text('');
      
        if(validateEmailTwo($emailTwo)){
        //   $result.text(email);
        $resultTwo.css('color', 'green');
        } else{
        //   $result.text(email);
        $resultTwo.css('color', 'red');
        }
        return false;
      }
      $('#bookEmailTwo').on('input', validateTwo);
      
});
